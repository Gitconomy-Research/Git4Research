<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1000 800" width="1000" height="800">
  <!-- =============== 背景与标题 =============== -->
  <rect width="1000" height="800" fill="#f8f9fa"/>
  <text x="500" y="42" font-family="Arial, sans-serif" font-size="24" font-weight="bold" text-anchor="middle" fill="#333">
    本地 RAG 工具链 · IT系统架构图（工具关系）
  </text>

  <!-- =============== 图例 =============== -->
  <rect x="785" y="70" width="20" height="20" fill="#4285f4" rx="4" ry="4"/>
  <text x="815" y="84" font-family="Arial, sans-serif" font-size="13" fill="#333">核心组件</text>

  <rect x="785" y="98" width="20" height="20" fill="#34a853" rx="4" ry="4"/>
  <text x="815" y="112" font-family="Arial, sans-serif" font-size="13" fill="#333">替代/可选</text>

  <rect x="785" y="126" width="20" height="20" fill="#8b5cf6" rx="4" ry="4"/>
  <text x="815" y="140" font-family="Arial, sans-serif" font-size="13" fill="#333">侧车（可观测/评测/部署）</text>

  <line x1="785" y1="160" x2="805" y2="160" stroke="#f59e0b" stroke-width="4"/>
  <text x="815" y="164" font-family="Arial, sans-serif" font-size="13" fill="#333">数据流</text>

  <rect x="785" y="176" width="20" height="20" stroke="#ea4335" stroke-width="2" fill="none" rx="4" ry="4"/>
  <text x="815" y="190" font-family="Arial, sans-serif" font-size="13" fill="#333">系统层级</text>

  <!-- =============== 系统层级边框 =============== -->
  <!-- 用户交互层 -->
  <rect x="70" y="70" width="680" height="100" stroke="#ea4335" stroke-width="2" fill="none" rx="10" ry="10"/>
  <text x="80" y="93" font-family="Arial, sans-serif" font-size="18" font-weight="bold" fill="#333">用户交互层</text>

  <!-- 编排 & API 层 -->
  <rect x="70" y="192" width="680" height="110" stroke="#ea4335" stroke-width="2" fill="none" rx="10" ry="10"/>
  <text x="80" y="215" font-family="Arial, sans-serif" font-size="18" font-weight="bold" fill="#333">应用编排/API 层</text>

  <!-- 检索 & 推理层（高度已缩小） -->
  <rect x="70" y="318" width="680" height="140" stroke="#ea4335" stroke-width="2" fill="none" rx="10" ry="10"/>
  <text x="80" y="341" font-family="Arial, sans-serif" font-size="18" font-weight="bold" fill="#333">检索/推理层</text>

  <!-- 索引 & 向量层 -->
  <rect x="70" y="484" width="680" height="170" stroke="#ea4335" stroke-width="2" fill="none" rx="10" ry="10"/>
  <text x="80" y="507" font-family="Arial, sans-serif" font-size="18" font-weight="bold" fill="#333">索引/向量层</text>

  <!-- 数据接入 & 解析层 -->
  <rect x="70" y="670" width="680" height="80" stroke="#ea4335" stroke-width="2" fill="none" rx="10" ry="10"/>
  <text x="80" y="693" font-family="Arial, sans-serif" font-size="18" font-weight="bold" fill="#333">数据接入/解析层</text>

  <!-- 侧车（可观测/评测/部署） -->
  <rect x="770" y="220" width="160" height="460" stroke="#ea4335" stroke-width="2" fill="none" rx="10" ry="10"/>
  <text x="780" y="243" font-family="Arial, sans-serif" font-size="18" font-weight="bold" fill="#333">侧车</text>
  <text x="780" y="263" font-family="Arial, sans-serif" font-size="13" fill="#333">（可观测/评测/部署）</text>

  <!-- =============== 用户交互层组件 =============== -->
  <rect x="140" y="105" width="150" height="50" fill="#4285f4" rx="8" ry="8"/>
  <text x="215" y="136" font-family="Arial, sans-serif" font-size="15" fill="#fff" text-anchor="middle">Streamlit</text>

  <rect x="330" y="105" width="150" height="50" fill="#34a853" rx="8" ry="8"/>
  <text x="405" y="136" font-family="Arial, sans-serif" font-size="15" fill="#fff" text-anchor="middle">Gradio</text>

  <rect x="520" y="105" width="150" height="50" fill="#34a853" opacity="0.6" rx="8" ry="8"/>
  <text x="595" y="136" font-family="Arial, sans-serif" font-size="15" fill="#fff" text-anchor="middle">其他UI</text>

  <!-- =============== 编排 & API 层组件 =============== -->
  <rect x="120" y="228" width="170" height="56" fill="#4285f4" rx="8" ry="8"/>
  <text x="205" y="260" font-family="Arial, sans-serif" font-size="15" fill="#fff" text-anchor="middle">LangChain</text>

  <rect x="310" y="228" width="170" height="56" fill="#34a853" rx="8" ry="8"/>
  <text x="395" y="260" font-family="Arial, sans-serif" font-size="15" fill="#fff" text-anchor="middle">LlamaIndex</text>

  <rect x="500" y="228" width="170" height="56" fill="#4285f4" rx="8" ry="8"/>
  <text x="585" y="248" font-family="Arial, sans-serif" font-size="14" fill="#fff" text-anchor="middle">FastAPI</text>
  <text x="585" y="266" font-family="Arial, sans-serif" font-size="12" fill="#eaf2ff" text-anchor="middle">/rag /retrieve /agent</text>

  <!-- =============== 检索 & 推理层组件（位置不变） =============== -->
  <rect x="100" y="360" width="170" height="56" fill="#4285f4" rx="8" ry="8"/>
  <text x="185" y="392" font-family="Arial, sans-serif" font-size="15" fill="#fff" text-anchor="middle">Retriever</text>
  <text x="185" y="408" font-family="Arial, sans-serif" font-size="11" fill="#eaf2ff" text-anchor="middle">相似度检索 / 过滤</text>

  <rect x="300" y="360" width="180" height="56" fill="#34a853" rx="8" ry="8"/>
  <text x="390" y="378" font-family="Arial, sans-serif" font-size="14" fill="#fff" text-anchor="middle">重排（可选）</text>
  <text x="390" y="396" font-family="Arial, sans-serif" font-size="12" fill="#eaf2ff" text-anchor="middle">Qwen3-Reranker / Jina</text>

  <rect x="520" y="348" width="200" height="72" fill="#4285f4" rx="8" ry="8"/>
  <text x="620" y="372" font-family="Arial, sans-serif" font-size="15" fill="#fff" text-anchor="middle">LLM 推理</text>
  <text x="620" y="392" font-family="Arial, sans-serif" font-size="12" fill="#eaf2ff" text-anchor="middle">Ollama（离线） / vLLM（GPU）</text>

  <!-- =============== 索引 & 向量层组件 =============== -->
  <rect x="100" y="520" width="220" height="56" fill="#4285f4" rx="8" ry="8"/>
  <text x="210" y="540" font-family="Arial, sans-serif" font-size="14" fill="#fff" text-anchor="middle">嵌入：Qwen3-Embedding</text>
  <text x="210" y="558" font-family="Arial, sans-serif" font-size="12" fill="#eaf2ff" text-anchor="middle">0.6B / 4B / 8B（本地/HF/TEI）</text>

  <rect x="350" y="500" width="150" height="50" fill="#4285f4" rx="8" ry="8"/>
  <text x="425" y="530" font-family="Arial, sans-serif" font-size="14" fill="#fff" text-anchor="middle">Chroma</text>

  <rect x="350" y="558" width="150" height="50" fill="#34a853" rx="8" ry="8"/>
  <text x="425" y="588" font-family="Arial, sans-serif" font-size="14" fill="#fff" text-anchor="middle">FAISS (IVF/HNSW)</text>

  <rect x="520" y="500" width="160" height="50" fill="#34a853" rx="8" ry="8"/>
  <text x="600" y="530" font-family="Arial, sans-serif" font-size="14" fill="#fff" text-anchor="middle">Qdrant</text>

  <rect x="520" y="558" width="160" height="50" fill="#34a853" rx="8" ry="8"/>
  <text x="600" y="588" font-family="Arial, sans-serif" font-size="14" fill="#fff" text-anchor="middle">Milvus</text>

  <!-- =============== 数据接入 & 解析层组件 =============== -->
  <rect x="120" y="705" width="180" height="36" fill="#4285f4" rx="8" ry="8"/>
  <text x="210" y="728" font-family="Arial, sans-serif" font-size="13" fill="#fff" text-anchor="middle">Unstructured / PyMuPDF / pdfminer</text>

  <rect x="320" y="705" width="150" height="36" fill="#4285f4" rx="8" ry="8"/>
  <text x="395" y="728" font-family="Arial, sans-serif" font-size="13" fill="#fff" text-anchor="middle">PaddleOCR / Tesseract</text>

  <rect x="490" y="705" width="140" height="36" fill="#4285f4" rx="8" ry="8"/>
  <text x="560" y="728" font-family="Arial, sans-serif" font-size="13" fill="#fff" text-anchor="middle">文本切分器</text>

  <!-- =============== 侧车组件（仅展示，无连线） =============== -->
  <rect x="790" y="290" width="120" height="50" fill="#8b5cf6" rx="8" ry="8"/>
  <text x="850" y="310" font-family="Arial, sans-serif" font-size="14" fill="#fff" text-anchor="middle">Phoenix</text>
  <text x="850" y="326" font-family="Arial, sans-serif" font-size="11" fill="#ede9fe" text-anchor="middle">OpenInference</text>

  <rect x="790" y="352" width="120" height="50" fill="#8b5cf6" rx="8" ry="8"/>
  <text x="850" y="372" font-family="Arial, sans-serif" font-size="14" fill="#fff" text-anchor="middle">RAGAS</text>
  <text x="850" y="388" font-family="Arial, sans-serif" font-size="11" fill="#ede9fe" text-anchor="middle">忠实度 / 召回</text>

  <rect x="790" y="414" width="120" height="50" fill="#8b5cf6" rx="8" ry="8"/>
  <text x="850" y="444" font-family="Arial, sans-serif" font-size="14" fill="#fff" text-anchor="middle">DeepEval</text>

  <rect x="790" y="476" width="120" height="50" fill="#8b5cf6" rx="8" ry="8"/>
  <text x="850" y="506" font-family="Arial, sans-serif" font-size="14" fill="#fff" text-anchor="middle">Docker</text>

  <rect x="790" y="538" width="120" height="50" fill="#8b5cf6" rx="8" ry="8"/>
  <text x="850" y="568" font-family="Arial, sans-serif" font-size="14" fill="#fff" text-anchor="middle">Kubernetes</text>

  <!-- 说明 -->
  <text x="74" y="642" font-family="Arial, sans-serif" font-size="12" fill="#555">
    注：已去除所有连线（数据流与侧车连线），仅保留分层与组件布局。
  </text>

  <text x="50%" y="780" text-anchor="middle" font-size="14" fill="#9ca3af">
    本作品采用 CC-BY-NC-SA 4.0 国际许可协议进行许可，© 2025 Gitconomy Research社区
  </text>
</svg>
